<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: HelperModule
  
    &mdash; Documentation by YARD 0.9.28
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "HelperModule";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (H)</a> &raquo;
    
    
    <span class="title">HelperModule</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: HelperModule
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Constants.html" title="Constants (module)">Constants</a></span>, <span class='object_link'><a href="Logging.html" title="Logging (module)">Logging</a></span></dd>
  </dl>
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="GithubCollaborators/FullOrgMember.html" title="GithubCollaborators::FullOrgMember (class)">GithubCollaborators::FullOrgMember</a></span>, <span class='object_link'><a href="GithubCollaborators/Organization.html" title="GithubCollaborators::Organization (class)">GithubCollaborators::Organization</a></span>, <span class='object_link'><a href="GithubCollaborators/OutsideCollaborators.html" title="GithubCollaborators::OutsideCollaborators (class)">GithubCollaborators::OutsideCollaborators</a></span>, <span class='object_link'><a href="GithubCollaborators/TerraformBlock.html" title="GithubCollaborators::TerraformBlock (class)">GithubCollaborators::TerraformBlock</a></span>, <span class='object_link'><a href="GithubCollaborators/TerraformFile.html" title="GithubCollaborators::TerraformFile (class)">GithubCollaborators::TerraformFile</a></span>, <span class='object_link'><a href="GithubCollaborators/TerraformFiles.html" title="GithubCollaborators::TerraformFiles (class)">GithubCollaborators::TerraformFiles</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/helper_module.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Functions used by the app</p>


  </div>
</div>
<div class="tags">
  

</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Constants.html" title="Constants (module)">Constants</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Constants.html#ADDED_BY_EMAIL-constant" title="Constants::ADDED_BY_EMAIL (constant)">Constants::ADDED_BY_EMAIL</a></span>, <span class='object_link'><a href="Constants.html#ADDED_BY_MISSING-constant" title="Constants::ADDED_BY_MISSING (constant)">Constants::ADDED_BY_MISSING</a></span>, <span class='object_link'><a href="Constants.html#ADD_COLLABORATOR_BRANCH_NAME-constant" title="Constants::ADD_COLLABORATOR_BRANCH_NAME (constant)">Constants::ADD_COLLABORATOR_BRANCH_NAME</a></span>, <span class='object_link'><a href="Constants.html#ADD_FULL_ORG_MEMBER_PR_TITLE-constant" title="Constants::ADD_FULL_ORG_MEMBER_PR_TITLE (constant)">Constants::ADD_FULL_ORG_MEMBER_PR_TITLE</a></span>, <span class='object_link'><a href="Constants.html#ARCHIVED_REPOSITORY_PR_TITLE-constant" title="Constants::ARCHIVED_REPOSITORY_PR_TITLE (constant)">Constants::ARCHIVED_REPOSITORY_PR_TITLE</a></span>, <span class='object_link'><a href="Constants.html#CHANGE_PERMISSION_PR_TITLE-constant" title="Constants::CHANGE_PERMISSION_PR_TITLE (constant)">Constants::CHANGE_PERMISSION_PR_TITLE</a></span>, <span class='object_link'><a href="Constants.html#COLLABORATOR_EXPIRES_SOON-constant" title="Constants::COLLABORATOR_EXPIRES_SOON (constant)">Constants::COLLABORATOR_EXPIRES_SOON</a></span>, <span class='object_link'><a href="Constants.html#COLLABORATOR_EXPIRY_UPCOMING-constant" title="Constants::COLLABORATOR_EXPIRY_UPCOMING (constant)">Constants::COLLABORATOR_EXPIRY_UPCOMING</a></span>, <span class='object_link'><a href="Constants.html#COLLABORATOR_MISSING-constant" title="Constants::COLLABORATOR_MISSING (constant)">Constants::COLLABORATOR_MISSING</a></span>, <span class='object_link'><a href="Constants.html#DATE_FORMAT-constant" title="Constants::DATE_FORMAT (constant)">Constants::DATE_FORMAT</a></span>, <span class='object_link'><a href="Constants.html#DEFINE_COLLABORATOR_IN_CODE-constant" title="Constants::DEFINE_COLLABORATOR_IN_CODE (constant)">Constants::DEFINE_COLLABORATOR_IN_CODE</a></span>, <span class='object_link'><a href="Constants.html#DELETE_ARCHIVE_FILE_BRANCH_NAME-constant" title="Constants::DELETE_ARCHIVE_FILE_BRANCH_NAME (constant)">Constants::DELETE_ARCHIVE_FILE_BRANCH_NAME</a></span>, <span class='object_link'><a href="Constants.html#DELETE_EMPTY_FILE_BRANCH_NAME-constant" title="Constants::DELETE_EMPTY_FILE_BRANCH_NAME (constant)">Constants::DELETE_EMPTY_FILE_BRANCH_NAME</a></span>, <span class='object_link'><a href="Constants.html#EMAIL_MISSING-constant" title="Constants::EMAIL_MISSING (constant)">Constants::EMAIL_MISSING</a></span>, <span class='object_link'><a href="Constants.html#EMPTY_FILES_PR_TITLE-constant" title="Constants::EMPTY_FILES_PR_TITLE (constant)">Constants::EMPTY_FILES_PR_TITLE</a></span>, <span class='object_link'><a href="Constants.html#EXCLUDE_FILES-constant" title="Constants::EXCLUDE_FILES (constant)">Constants::EXCLUDE_FILES</a></span>, <span class='object_link'><a href="Constants.html#EXTEND_REVIEW_DATE_PR_TITLE-constant" title="Constants::EXTEND_REVIEW_DATE_PR_TITLE (constant)">Constants::EXTEND_REVIEW_DATE_PR_TITLE</a></span>, <span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">Constants::GH_API_URL</a></span>, <span class='object_link'><a href="Constants.html#GH_ORG_URL-constant" title="Constants::GH_ORG_URL (constant)">Constants::GH_ORG_URL</a></span>, <span class='object_link'><a href="Constants.html#GRAPHQL_URI-constant" title="Constants::GRAPHQL_URI (constant)">Constants::GRAPHQL_URI</a></span>, <span class='object_link'><a href="Constants.html#MISSING-constant" title="Constants::MISSING (constant)">Constants::MISSING</a></span>, <span class='object_link'><a href="Constants.html#MODIFY_COLLABORATORS_BRANCH_NAME-constant" title="Constants::MODIFY_COLLABORATORS_BRANCH_NAME (constant)">Constants::MODIFY_COLLABORATORS_BRANCH_NAME</a></span>, <span class='object_link'><a href="Constants.html#NAME_MISSING-constant" title="Constants::NAME_MISSING (constant)">Constants::NAME_MISSING</a></span>, <span class='object_link'><a href="Constants.html#ORG-constant" title="Constants::ORG (constant)">Constants::ORG</a></span>, <span class='object_link'><a href="Constants.html#ORGANISATION_MISSING-constant" title="Constants::ORGANISATION_MISSING (constant)">Constants::ORGANISATION_MISSING</a></span>, <span class='object_link'><a href="Constants.html#PERMISSION_MISSING-constant" title="Constants::PERMISSION_MISSING (constant)">Constants::PERMISSION_MISSING</a></span>, <span class='object_link'><a href="Constants.html#RATE_LIMITED-constant" title="Constants::RATE_LIMITED (constant)">Constants::RATE_LIMITED</a></span>, <span class='object_link'><a href="Constants.html#REASON1-constant" title="Constants::REASON1 (constant)">Constants::REASON1</a></span>, <span class='object_link'><a href="Constants.html#REASON2-constant" title="Constants::REASON2 (constant)">Constants::REASON2</a></span>, <span class='object_link'><a href="Constants.html#REASON_MISSING-constant" title="Constants::REASON_MISSING (constant)">Constants::REASON_MISSING</a></span>, <span class='object_link'><a href="Constants.html#REMOVE_EXPIRED_COLLABORATORS_BRANCH_NAME-constant" title="Constants::REMOVE_EXPIRED_COLLABORATORS_BRANCH_NAME (constant)">Constants::REMOVE_EXPIRED_COLLABORATORS_BRANCH_NAME</a></span>, <span class='object_link'><a href="Constants.html#REMOVE_EXPIRED_COLLABORATOR_PR_TITLE-constant" title="Constants::REMOVE_EXPIRED_COLLABORATOR_PR_TITLE (constant)">Constants::REMOVE_EXPIRED_COLLABORATOR_PR_TITLE</a></span>, <span class='object_link'><a href="Constants.html#REVIEW_DATE_EXPIRES_SOON-constant" title="Constants::REVIEW_DATE_EXPIRES_SOON (constant)">Constants::REVIEW_DATE_EXPIRES_SOON</a></span>, <span class='object_link'><a href="Constants.html#REVIEW_DATE_MISSING-constant" title="Constants::REVIEW_DATE_MISSING (constant)">Constants::REVIEW_DATE_MISSING</a></span>, <span class='object_link'><a href="Constants.html#REVIEW_DATE_PASSED-constant" title="Constants::REVIEW_DATE_PASSED (constant)">Constants::REVIEW_DATE_PASSED</a></span>, <span class='object_link'><a href="Constants.html#REVIEW_DATE_TO_LONG-constant" title="Constants::REVIEW_DATE_TO_LONG (constant)">Constants::REVIEW_DATE_TO_LONG</a></span>, <span class='object_link'><a href="Constants.html#REVIEW_DATE_WITHIN_MONTH-constant" title="Constants::REVIEW_DATE_WITHIN_MONTH (constant)">Constants::REVIEW_DATE_WITHIN_MONTH</a></span>, <span class='object_link'><a href="Constants.html#TERRAFORM_DIR-constant" title="Constants::TERRAFORM_DIR (constant)">Constants::TERRAFORM_DIR</a></span>, <span class='object_link'><a href="Constants.html#TERRAFORM_FILES-constant" title="Constants::TERRAFORM_FILES (constant)">Constants::TERRAFORM_FILES</a></span>, <span class='object_link'><a href="Constants.html#TYPE_ADD-constant" title="Constants::TYPE_ADD (constant)">Constants::TYPE_ADD</a></span>, <span class='object_link'><a href="Constants.html#TYPE_DELETE-constant" title="Constants::TYPE_DELETE (constant)">Constants::TYPE_DELETE</a></span>, <span class='object_link'><a href="Constants.html#TYPE_DELETE_ARCHIVE-constant" title="Constants::TYPE_DELETE_ARCHIVE (constant)">Constants::TYPE_DELETE_ARCHIVE</a></span>, <span class='object_link'><a href="Constants.html#TYPE_EXTEND-constant" title="Constants::TYPE_EXTEND (constant)">Constants::TYPE_EXTEND</a></span>, <span class='object_link'><a href="Constants.html#TYPE_PERMISSION-constant" title="Constants::TYPE_PERMISSION (constant)">Constants::TYPE_PERMISSION</a></span>, <span class='object_link'><a href="Constants.html#TYPE_REMOVE-constant" title="Constants::TYPE_REMOVE (constant)">Constants::TYPE_REMOVE</a></span>, <span class='object_link'><a href="Constants.html#UPDATE_REVIEW_DATE_BRANCH_NAME-constant" title="Constants::UPDATE_REVIEW_DATE_BRANCH_NAME (constant)">Constants::UPDATE_REVIEW_DATE_BRANCH_NAME</a></span>, <span class='object_link'><a href="Constants.html#USERNAME_MISSING-constant" title="Constants::USERNAME_MISSING (constant)">Constants::USERNAME_MISSING</a></span>, <span class='object_link'><a href="Constants.html#USE_TEAM_ACCESS-constant" title="Constants::USE_TEAM_ACCESS (constant)">Constants::USE_TEAM_ACCESS</a></span></p>





  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_collaborator_hash-instance_method" title="#add_collaborator_hash (instance method)">#<strong>add_collaborator_hash</strong>(login, branch_name)  &#x21d2; Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Composes a GitHub branch structured message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#close_expired_issues-instance_method" title="#close_expired_issues (instance method)">#<strong>close_expired_issues</strong>(repository_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Close invites that have expired for a repository on GitHub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_branch_and_pull_request-instance_method" title="#create_branch_and_pull_request (instance method)">#<strong>create_branch_and_pull_request</strong>(branch_name, edited_files, pull_request_title, collaborator_name, type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_pull_request-instance_method" title="#create_pull_request (instance method)">#<strong>create_pull_request</strong>(hash_body)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create pull request.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_review_date_expires_soon_issue-instance_method" title="#create_review_date_expires_soon_issue (instance method)">#<strong>create_review_date_expires_soon_issue</strong>(user_name, repository_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create new issue for a repository on GitHub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_unknown_collaborator_issue-instance_method" title="#create_unknown_collaborator_issue (instance method)">#<strong>create_unknown_collaborator_issue</strong>(user_name, repository_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create new issue on a repository on GitHub for collaborator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_archive_file_hash-instance_method" title="#delete_archive_file_hash (instance method)">#<strong>delete_archive_file_hash</strong>(branch_name)  &#x21d2; Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Composes a GitHub branch structured message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_empty_files_hash-instance_method" title="#delete_empty_files_hash (instance method)">#<strong>delete_empty_files_hash</strong>(branch_name)  &#x21d2; Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Composes a GitHub branch structured message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_expired_invite-instance_method" title="#delete_expired_invite (instance method)">#<strong>delete_expired_invite</strong>(repository_name, invite_login)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete a collaborator invite from a repository on GitHub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#does_collaborator_already_exist-instance_method" title="#does_collaborator_already_exist (instance method)">#<strong>does_collaborator_already_exist</strong>(login, collaborators)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#does_issue_already_exist-instance_method" title="#does_issue_already_exist (instance method)">#<strong>does_issue_already_exist</strong>(issues, issue_title, repository_name, user_name)  &#x21d2; Bool </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Checks if a specific issue on a GitHub repository is already open for the collaborator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extend_date_hash-instance_method" title="#extend_date_hash (instance method)">#<strong>extend_date_hash</strong>(login, branch_name)  &#x21d2; Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Composes a GitHub branch structured message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_all_collaborators-instance_method" title="#fetch_all_collaborators (instance method)">#<strong>fetch_all_collaborators</strong>(repository)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_unknown_collaborators-instance_method" title="#find_unknown_collaborators (instance method)">#<strong>find_unknown_collaborators</strong>(collaborators_in_file, collaborators_on_github, repository_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Compare each collaborator name on a Github repo against the Terraform file collaborator names to find unknown collaborators.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_active_repositories-instance_method" title="#get_active_repositories (instance method)">#<strong>get_active_repositories</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_all_org_members_team_repositories-instance_method" title="#get_all_org_members_team_repositories (instance method)">#<strong>get_all_org_members_team_repositories</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Query the all_org_members team and return its repositories.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_all_organisation_members-instance_method" title="#get_all_organisation_members (instance method)">#<strong>get_all_organisation_members</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get full list of Organization user login names.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_archived_repositories-instance_method" title="#get_archived_repositories (instance method)">#<strong>get_archived_repositories</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_archived_repositories_query-instance_method" title="#get_archived_repositories_query (instance method)">#<strong>get_archived_repositories_query</strong>(end_cursor, type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_email-instance_method" title="#get_email (instance method)">#<strong>get_email</strong>(login, collaborators)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_issues_from_github-instance_method" title="#get_issues_from_github (instance method)">#<strong>get_issues_from_github</strong>(repository)  &#x21d2; JSON </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Collect the issues from a repository on GitHub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_name-instance_method" title="#get_name (instance method)">#<strong>get_name</strong>(login, collaborators)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_org-instance_method" title="#get_org (instance method)">#<strong>get_org</strong>(login, collaborators)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_org_outside_collaborators-instance_method" title="#get_org_outside_collaborators (instance method)">#<strong>get_org_outside_collaborators</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_pull_requests-instance_method" title="#get_pull_requests (instance method)">#<strong>get_pull_requests</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_repository_invites-instance_method" title="#get_repository_invites (instance method)">#<strong>get_repository_invites</strong>(repository_name)  &#x21d2; Hash{login =&gt; String, expired =&gt; Bool, invite_id =&gt; Numeric} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the collaborator invites from a repository on GitHub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#modify_collaborator_permission_hash-instance_method" title="#modify_collaborator_permission_hash (instance method)">#<strong>modify_collaborator_permission_hash</strong>(login, branch_name)  &#x21d2; Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Composes a GitHub branch structured message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#organisation_members_query-instance_method" title="#organisation_members_query (instance method)">#<strong>organisation_members_query</strong>(end_cursor)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#outside_collaborators_query-instance_method" title="#outside_collaborators_query (instance method)">#<strong>outside_collaborators_query</strong>(end_cursor, repository)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print_comparison-instance_method" title="#print_comparison (instance method)">#<strong>print_comparison</strong>(collaborators_in_file, collaborators_on_github, repository_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prints out the comparison of GitHub and Terraform collaborators when there is a mismatch.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pull_request_query-instance_method" title="#pull_request_query (instance method)">#<strong>pull_request_query</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_access-instance_method" title="#remove_access (instance method)">#<strong>remove_access</strong>(repository, github_user)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Remove a collaborator from a repository on GitHub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_collaborator_hash-instance_method" title="#remove_collaborator_hash (instance method)">#<strong>remove_collaborator_hash</strong>(login, branch_name)  &#x21d2; Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Composes a GitHub branch structured message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_issue-instance_method" title="#remove_issue (instance method)">#<strong>remove_issue</strong>(repository_name, issue_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Remove issue from a repository on GitHub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#repositories_query-instance_method" title="#repositories_query (instance method)">#<strong>repositories_query</strong>(end_cursor, type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#review_date_expires_soon_hash-instance_method" title="#review_date_expires_soon_hash (instance method)">#<strong>review_date_expires_soon_hash</strong>(user_name)  &#x21d2; Hash{title =&gt; String, assignees =&gt; [Array&lt;String&gt;], body =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Composes a GitHub issue structured message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tf_safe-instance_method" title="#tf_safe (instance method)">#<strong>tf_safe</strong>(string)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Changes a .</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unknown_collaborator_hash-instance_method" title="#unknown_collaborator_hash (instance method)">#<strong>unknown_collaborator_hash</strong>(user_name)  &#x21d2; Hash{title =&gt; String, assignees =&gt; [Array&lt;String&gt;], body =&gt; String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Composes a GitHub issue structured message.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Logging.html" title="Logging (module)">Logging</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Logging.html#configure_logger_for-class_method" title="Logging.configure_logger_for (method)">configure_logger_for</a></span>, <span class='object_link'><a href="Logging.html#get_logger_level-class_method" title="Logging.get_logger_level (method)">get_logger_level</a></span>, <span class='object_link'><a href="Logging.html#logger-instance_method" title="Logging#logger (method)">#logger</a></span>, <span class='object_link'><a href="Logging.html#logger_for-class_method" title="Logging.logger_for (method)">logger_for</a></span>, <span class='object_link'><a href="Logging.html#module_logger-instance_method" title="Logging#module_logger (method)">#module_logger</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_collaborator_hash-instance_method">
  
    #<strong>add_collaborator_hash</strong>(login, branch_name)  &#x21d2; <tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Composes a GitHub branch structured message</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>login</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>branch_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of new branch</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the message to send to GitHub</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 538</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_collaborator_hash'>add_collaborator_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='comma'>,</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add_collaborator_hash</span><span class='tstring_end'>&quot;</span></span>
  <span class='lbrace'>{</span>
    <span class='label'>title:</span> <span class='const'><span class='object_link'><a href="Constants.html#ADD_FULL_ORG_MEMBER_PR_TITLE-constant" title="Constants::ADD_FULL_ORG_MEMBER_PR_TITLE (constant)">ADD_FULL_ORG_MEMBER_PR_TITLE</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>head:</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>base:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>main</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>body:</span> <span class='heredoc_beg'>&lt;&lt;~EOF</span>
<span class='tstring_content'>      Hi there
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This is the GitHub-Collaborator repository bot.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The collaborator </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_content'> was found to be missing from the file/s in this pull request.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This is because the collaborator is a full organization member and is able to join repositories outside of Terraform.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This pull request ensures we keep track of those collaborators and which repositories they are accessing.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      Edit the pull request file/s because some of the data about the collaborator is missing.
</span><span class='tstring_content'>      
</span><span class='heredoc_end'>    EOF
</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="close_expired_issues-instance_method">
  
    #<strong>close_expired_issues</strong>(repository_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Close invites that have expired for a repository on GitHub</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>repository_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of repository</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_close_expired_issues'>close_expired_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>close_expired_issues</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_allowed_days'>allowed_days</span> <span class='op'>=</span> <span class='int'>45</span>

  <span class='id identifier rubyid_issues'>issues</span> <span class='op'>=</span> <span class='id identifier rubyid_get_issues_from_github'>get_issues_from_github</span><span class='lparen'>(</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_issue'>issue</span><span class='op'>|</span>
    <span class='comment'># Check for the issues created by this application and that the issue is open
</span>    <span class='kw'>if</span> <span class='lparen'>(</span>
      <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:title</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html#COLLABORATOR_EXPIRES_SOON-constant" title="Constants::COLLABORATOR_EXPIRES_SOON (constant)">COLLABORATOR_EXPIRES_SOON</a></span></span><span class='rparen'>)</span> <span class='op'>||</span>
      <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:title</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html#COLLABORATOR_EXPIRY_UPCOMING-constant" title="Constants::COLLABORATOR_EXPIRY_UPCOMING (constant)">COLLABORATOR_EXPIRY_UPCOMING</a></span></span><span class='rparen'>)</span> <span class='op'>||</span>
      <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:title</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html#DEFINE_COLLABORATOR_IN_CODE-constant" title="Constants::DEFINE_COLLABORATOR_IN_CODE (constant)">DEFINE_COLLABORATOR_IN_CODE</a></span></span><span class='rparen'>)</span> <span class='op'>||</span>
      <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:title</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html#USE_TEAM_ACCESS-constant" title="Constants::USE_TEAM_ACCESS (constant)">USE_TEAM_ACCESS</a></span></span><span class='rparen'>)</span>
    <span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:state</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>open</span><span class='tstring_end'>&quot;</span></span>
      <span class='comment'># Get issue created date and add 45 day grace period
</span>      <span class='id identifier rubyid_created_date'>created_date</span> <span class='op'>=</span> <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:created_at</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_grace_period'>grace_period</span> <span class='op'>=</span> <span class='id identifier rubyid_created_date'>created_date</span> <span class='op'>+</span> <span class='id identifier rubyid_allowed_days'>allowed_days</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_grace_period'>grace_period</span> <span class='op'>&lt;</span> <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span>
        <span class='comment'># Close issue as grace period has expired
</span>        <span class='id identifier rubyid_remove_issue'>remove_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:number</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_branch_and_pull_request-instance_method">
  
    #<strong>create_branch_and_pull_request</strong>(branch_name, edited_files, pull_request_title, collaborator_name, type)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_branch_and_pull_request'>create_branch_and_pull_request</span><span class='lparen'>(</span><span class='id identifier rubyid_branch_name'>branch_name</span><span class='comma'>,</span> <span class='id identifier rubyid_edited_files'>edited_files</span><span class='comma'>,</span> <span class='id identifier rubyid_pull_request_title'>pull_request_title</span><span class='comma'>,</span> <span class='id identifier rubyid_collaborator_name'>collaborator_name</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>create_branch_and_pull_request</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_collaborator_name'>collaborator_name</span> <span class='op'>=</span> <span class='id identifier rubyid_collaborator_name'>collaborator_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='comment'># Ready a new branch
</span>  <span class='id identifier rubyid_branch_creator'>branch_creator</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/BranchCreator.html" title="GithubCollaborators::BranchCreator (class)">BranchCreator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/BranchCreator.html#initialize-instance_method" title="GithubCollaborators::BranchCreator#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_branch_name'>branch_name</span> <span class='op'>=</span> <span class='id identifier rubyid_branch_creator'>branch_creator</span><span class='period'>.</span><span class='id identifier rubyid_check_branch_name_is_valid'>check_branch_name_is_valid</span><span class='lparen'>(</span><span class='id identifier rubyid_branch_name'>branch_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span> <span class='id identifier rubyid_collaborator_name'>collaborator_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_branch_name'>branch_name</span> <span class='op'>=</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='id identifier rubyid_branch_creator'>branch_creator</span><span class='period'>.</span><span class='id identifier rubyid_create_branch'>create_branch</span><span class='lparen'>(</span><span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span>

  <span class='comment'># Add, commit and push the changes
</span>  <span class='id identifier rubyid_edited_files'>edited_files</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_file_name'>file_name</span><span class='op'>|</span> <span class='id identifier rubyid_branch_creator'>branch_creator</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_file_name'>file_name</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_branch_creator'>branch_creator</span><span class='period'>.</span><span class='id identifier rubyid_commit_and_push'>commit_and_push</span><span class='lparen'>(</span><span class='id identifier rubyid_pull_request_title'>pull_request_title</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Constants.html#TYPE_DELETE-constant" title="Constants::TYPE_DELETE (constant)">TYPE_DELETE</a></span></span>
    <span class='id identifier rubyid_create_pull_request'>create_pull_request</span><span class='lparen'>(</span><span class='id identifier rubyid_delete_empty_files_hash'>delete_empty_files_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Constants.html#TYPE_EXTEND-constant" title="Constants::TYPE_EXTEND (constant)">TYPE_EXTEND</a></span></span>
    <span class='id identifier rubyid_create_pull_request'>create_pull_request</span><span class='lparen'>(</span><span class='id identifier rubyid_extend_date_hash'>extend_date_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_collaborator_name'>collaborator_name</span><span class='comma'>,</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Constants.html#TYPE_REMOVE-constant" title="Constants::TYPE_REMOVE (constant)">TYPE_REMOVE</a></span></span>
    <span class='id identifier rubyid_create_pull_request'>create_pull_request</span><span class='lparen'>(</span><span class='id identifier rubyid_remove_collaborator_hash'>remove_collaborator_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_collaborator_name'>collaborator_name</span><span class='comma'>,</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Constants.html#TYPE_PERMISSION-constant" title="Constants::TYPE_PERMISSION (constant)">TYPE_PERMISSION</a></span></span>
    <span class='id identifier rubyid_create_pull_request'>create_pull_request</span><span class='lparen'>(</span><span class='id identifier rubyid_modify_collaborator_permission_hash'>modify_collaborator_permission_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_collaborator_name'>collaborator_name</span><span class='comma'>,</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Constants.html#TYPE_ADD-constant" title="Constants::TYPE_ADD (constant)">TYPE_ADD</a></span></span>
    <span class='id identifier rubyid_create_pull_request'>create_pull_request</span><span class='lparen'>(</span><span class='id identifier rubyid_add_collaborator_hash'>add_collaborator_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_collaborator_name'>collaborator_name</span><span class='comma'>,</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="Constants.html#TYPE_DELETE_ARCHIVE-constant" title="Constants::TYPE_DELETE_ARCHIVE (constant)">TYPE_DELETE_ARCHIVE</a></span></span>
    <span class='id identifier rubyid_create_pull_request'>create_pull_request</span><span class='lparen'>(</span><span class='id identifier rubyid_delete_archive_file_hash'>delete_archive_file_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_pull_request-instance_method">
  
    #<strong>create_pull_request</strong>(hash_body)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create pull request</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


426
427
428
429
430
431
432
433
434
435
436
437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 426</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_pull_request'>create_pull_request</span><span class='lparen'>(</span><span class='id identifier rubyid_hash_body'>hash_body</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>create_pull_request</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REALLY_POST_TO_GH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">GH_API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/github-collaborators/pulls</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OPS_BOT_TOKEN</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_post_pull_request_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#post_pull_request_json-instance_method" title="GithubCollaborators::HttpClient#post_pull_request_json (method)">post_pull_request_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_hash_body'>hash_body</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_post_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#post_json-instance_method" title="GithubCollaborators::HttpClient#post_json (method)">post_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_hash_body'>hash_body</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>1</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Didn&#39;t create pull request, this is a dry run</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_review_date_expires_soon_issue-instance_method">
  
    #<strong>create_review_date_expires_soon_issue</strong>(user_name, repository_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create new issue for a repository on GitHub</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>user_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>repository_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of repository</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179
180
181
182
183
184
185
186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_review_date_expires_soon_issue'>create_review_date_expires_soon_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_user_name'>user_name</span><span class='comma'>,</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>create_review_date_expires_soon_issue</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_repository_name'>repository_name</span> <span class='op'>=</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_user_name'>user_name</span> <span class='op'>=</span> <span class='id identifier rubyid_user_name'>user_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='kw'>if</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REALLY_POST_TO_GH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">GH_API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/issues</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_post_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#post_json-instance_method" title="GithubCollaborators::HttpClient#post_json (method)">post_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_review_date_expires_soon_hash'>review_date_expires_soon_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_user_name'>user_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>2</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Didn&#39;t create review date expires soon issue for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user_name'>user_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, this is a dry run</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_unknown_collaborator_issue-instance_method">
  
    #<strong>create_unknown_collaborator_issue</strong>(user_name, repository_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create new issue on a repository on GitHub for collaborator</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>user_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>repository_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of repository</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


132
133
134
135
136
137
138
139
140
141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 132</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_unknown_collaborator_issue'>create_unknown_collaborator_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_user_name'>user_name</span><span class='comma'>,</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>create_unknown_collaborator_issue</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_repository_name'>repository_name</span> <span class='op'>=</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_user_name'>user_name</span> <span class='op'>=</span> <span class='id identifier rubyid_user_name'>user_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='kw'>if</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REALLY_POST_TO_GH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">GH_API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/issues</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_post_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#post_json-instance_method" title="GithubCollaborators::HttpClient#post_json (method)">post_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_unknown_collaborator_hash'>unknown_collaborator_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_user_name'>user_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>2</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Didn&#39;t create unknown collaborator issue for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user_name'>user_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> on , this is a dry run</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_archive_file_hash-instance_method">
  
    #<strong>delete_archive_file_hash</strong>(branch_name)  &#x21d2; <tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Composes a GitHub branch structured message</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>branch_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of branch to delete</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the message to send to GitHub</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 493</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_archive_file_hash'>delete_archive_file_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>delete_archive_file_hash</span><span class='tstring_end'>&quot;</span></span>
  <span class='lbrace'>{</span>
    <span class='label'>title:</span> <span class='const'><span class='object_link'><a href="Constants.html#ARCHIVED_REPOSITORY_PR_TITLE-constant" title="Constants::ARCHIVED_REPOSITORY_PR_TITLE (constant)">ARCHIVED_REPOSITORY_PR_TITLE</a></span></span><span class='comma'>,</span>
    <span class='label'>head:</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>base:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>main</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>body:</span> <span class='heredoc_beg'>&lt;&lt;~EOF</span>
<span class='tstring_content'>      Hi there
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This is the GitHub-Collaborator repository bot.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The repositories in this pull request have been archived.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This pull request is to remove those Terraform files.
</span><span class='tstring_content'>
</span><span class='heredoc_end'>    EOF
</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_empty_files_hash-instance_method">
  
    #<strong>delete_empty_files_hash</strong>(branch_name)  &#x21d2; <tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Composes a GitHub branch structured message</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>branch_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of new branch</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the message to send to GitHub</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 516</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_empty_files_hash'>delete_empty_files_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>delete_empty_files_hash</span><span class='tstring_end'>&quot;</span></span>
  <span class='lbrace'>{</span>
    <span class='label'>title:</span> <span class='const'><span class='object_link'><a href="Constants.html#EMPTY_FILES_PR_TITLE-constant" title="Constants::EMPTY_FILES_PR_TITLE (constant)">EMPTY_FILES_PR_TITLE</a></span></span><span class='comma'>,</span>
    <span class='label'>head:</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>base:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>main</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>body:</span> <span class='heredoc_beg'>&lt;&lt;~EOF</span>
<span class='tstring_content'>      Hi there
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This is the GitHub-Collaborator repository bot.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The Terraform files in this pull request are empty and serve no purpose, please remove them.
</span><span class='tstring_content'>      
</span><span class='heredoc_end'>    EOF
</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_expired_invite-instance_method">
  
    #<strong>delete_expired_invite</strong>(repository_name, invite_login)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Delete a collaborator invite from a repository on GitHub</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>repository_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of repository</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>invite_login</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_expired_invite'>delete_expired_invite</span><span class='lparen'>(</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='comma'>,</span> <span class='id identifier rubyid_invite_login'>invite_login</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>delete_expired_invite</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_repository_name'>repository_name</span> <span class='op'>=</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_invite_login'>invite_login</span> <span class='op'>=</span> <span class='id identifier rubyid_invite_login'>invite_login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The invite for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_invite_login'>invite_login</span><span class='embexpr_end'>}</span><span class='tstring_content'> on </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> has expired. Deleting the invite.</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">GH_API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/invitations/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_invite_login'>invite_login</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_delete'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#delete-instance_method" title="GithubCollaborators::HttpClient#delete (method)">delete</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="does_collaborator_already_exist-instance_method">
  
    #<strong>does_collaborator_already_exist</strong>(login, collaborators)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319
320
321
322
323
324
325
326
327
328
329</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 319</span>

<span class='kw'>def</span> <span class='id identifier rubyid_does_collaborator_already_exist'>does_collaborator_already_exist</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='comma'>,</span> <span class='id identifier rubyid_collaborators'>collaborators</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>does_collaborator_already_exist</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_exists'>exists</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_collaborators'>collaborators</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_collaborator'>collaborator</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>==</span> <span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
      <span class='id identifier rubyid_exists'>exists</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_exists'>exists</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="does_issue_already_exist-instance_method">
  
    #<strong>does_issue_already_exist</strong>(issues, issue_title, repository_name, user_name)  &#x21d2; <tt>Bool</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Checks if a specific issue on a GitHub repository is already open for the collaborator</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>issues</span>
      
      
        <span class='type'>(<tt>Hash{login =&gt; String, title =&gt; String, assignees =&gt; [Array&lt;String&gt;], number =&gt; Numeric}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>issue data from GitHub repository</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>issue_title</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the issue</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>repository_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the repository</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>user_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the collaborator</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Bool</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true when the specific issue exists on repository</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 222</span>

<span class='kw'>def</span> <span class='id identifier rubyid_does_issue_already_exist'>does_issue_already_exist</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='comma'>,</span> <span class='id identifier rubyid_issue_title'>issue_title</span><span class='comma'>,</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='comma'>,</span> <span class='id identifier rubyid_user_name'>user_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>does_issue_already_exist</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_repository_name'>repository_name</span> <span class='op'>=</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_user_name'>user_name</span> <span class='op'>=</span> <span class='id identifier rubyid_user_name'>user_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_found_issues'>found_issues</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='comment'># Find the specific issue assigned to the collaborator
</span>  <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_issue'>issue</span><span class='op'>|</span>
    <span class='comment'># Match the issue title
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:title</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_issue_title'>issue_title</span><span class='rparen'>)</span>
      <span class='comment'># Look to see if the collaborator has unassigned themself
</span>      <span class='comment'># from the issue, if so close the unassigned issue
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:assignees</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>0</span>
        <span class='id identifier rubyid_remove_issue'>remove_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:number</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='id identifier rubyid_index'>index</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='comment'># Match issue assignee to collaborator
</span>        <span class='id identifier rubyid_issue'>issue</span><span class='lbracket'>[</span><span class='symbol'>:assignees</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_assignee'>assignee</span><span class='op'>|</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_assignee'>assignee</span><span class='lbracket'>[</span><span class='symbol'>:login</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>==</span> <span class='id identifier rubyid_user_name'>user_name</span>
            <span class='comment'># Found matching issue
</span>            <span class='id identifier rubyid_found_issues'>found_issues</span> <span class='op'>=</span> <span class='kw'>true</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_found_issues'>found_issues</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extend_date_hash-instance_method">
  
    #<strong>extend_date_hash</strong>(login, branch_name)  &#x21d2; <tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Composes a GitHub branch structured message</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>login</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>branch_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of new branch</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the message to send to GitHub</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 469</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extend_date_hash'>extend_date_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='comma'>,</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extend_date_hash</span><span class='tstring_end'>&quot;</span></span>
  <span class='lbrace'>{</span>
    <span class='label'>title:</span> <span class='const'><span class='object_link'><a href="Constants.html#EXTEND_REVIEW_DATE_PR_TITLE-constant" title="Constants::EXTEND_REVIEW_DATE_PR_TITLE (constant)">EXTEND_REVIEW_DATE_PR_TITLE</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>head:</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>base:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>main</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>body:</span> <span class='heredoc_beg'>&lt;&lt;~EOF</span>
<span class='tstring_content'>      Hi there
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This is the GitHub-Collaborator repository bot.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The collaborator </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_content'> has review date/s that are close to expiring.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The review date/s have automatically been extended.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      Either approve this pull request, modify it or delete it if it is no longer necessary.
</span><span class='heredoc_end'>    EOF
</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_all_collaborators-instance_method">
  
    #<strong>fetch_all_collaborators</strong>(repository)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 725</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_all_collaborators'>fetch_all_collaborators</span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fetch_all_collaborators</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_end_cursor'>end_cursor</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_graphql'>graphql</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html" title="GithubCollaborators::GithubGraphQlClient (class)">GithubGraphQlClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html#initialize-instance_method" title="GithubCollaborators::GithubGraphQlClient#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_outside_collaborators'>outside_collaborators</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_graphql'>graphql</span><span class='period'>.</span><span class='id identifier rubyid_run_query'>run_query</span><span class='lparen'>(</span><span class='id identifier rubyid_outside_collaborators_query'>outside_collaborators_query</span><span class='lparen'>(</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='comma'>,</span> <span class='id identifier rubyid_repository'>repository</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_json_data'>json_data</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
    <span class='comment'># Repos with no outside collaborators return an empty array
</span>    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repository</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>collaborators</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>edges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_collaborators'>collaborators</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repository</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>collaborators</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>edges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_collaborators'>collaborators</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_collaborator'>collaborator</span><span class='op'>|</span>
        <span class='id identifier rubyid_login'>login</span> <span class='op'>=</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>node</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>login</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
        <span class='id identifier rubyid_outside_collaborators'>outside_collaborators</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_end_cursor'>end_cursor</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repository</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>collaborators</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pageInfo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endCursor</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repository</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>collaborators</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pageInfo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hasNextPage</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_outside_collaborators'>outside_collaborators</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_unknown_collaborators-instance_method">
  
    #<strong>find_unknown_collaborators</strong>(collaborators_in_file, collaborators_on_github, repository_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Compare each collaborator name on a Github repo against the Terraform file collaborator names to find unknown collaborators</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 791</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_unknown_collaborators'>find_unknown_collaborators</span><span class='lparen'>(</span><span class='id identifier rubyid_collaborators_in_file'>collaborators_in_file</span><span class='comma'>,</span> <span class='id identifier rubyid_collaborators_on_github'>collaborators_on_github</span><span class='comma'>,</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>find_unknown_collaborators</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_unknown_collaborators'>unknown_collaborators</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='comment'># Loop through GitHub Collaborators
</span>  <span class='id identifier rubyid_collaborators_on_github'>collaborators_on_github</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_gc_name'>gc_name</span><span class='op'>|</span>
    <span class='id identifier rubyid_gc_name'>gc_name</span> <span class='op'>=</span> <span class='id identifier rubyid_gc_name'>gc_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_found_name'>found_name</span> <span class='op'>=</span> <span class='kw'>false</span>

    <span class='comment'># Loop through Terraform file collaborators
</span>    <span class='id identifier rubyid_collaborators_in_file'>collaborators_in_file</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tc_name'>tc_name</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_tc_name'>tc_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>==</span> <span class='id identifier rubyid_gc_name'>gc_name</span>
        <span class='comment'># Found a GitHub Collaborator name in Terraform collaborator name
</span>        <span class='id identifier rubyid_found_name'>found_name</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_found_name'>found_name</span> <span class='op'>==</span> <span class='kw'>false</span>
      <span class='comment'># Didn&#39;t find a match ie unknown collaborator
</span>      <span class='id identifier rubyid_unknown_collaborators'>unknown_collaborators</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_gc_name'>gc_name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_unknown_collaborators'>unknown_collaborators</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_active_repositories-instance_method">
  
    #<strong>get_active_repositories</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 614</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_active_repositories'>get_active_repositories</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_active_repositories</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_graphql'>graphql</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html" title="GithubCollaborators::GithubGraphQlClient (class)">GithubGraphQlClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html#initialize-instance_method" title="GithubCollaborators::GithubGraphQlClient#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_active_repositories'>active_repositories</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>private</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>internal</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
    <span class='id identifier rubyid_end_cursor'>end_cursor</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_graphql'>graphql</span><span class='period'>.</span><span class='id identifier rubyid_run_query'>run_query</span><span class='lparen'>(</span><span class='id identifier rubyid_repositories_query'>repositories_query</span><span class='lparen'>(</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_json_data'>json_data</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repos</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_repositories'>repositories</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repos</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_repositories'>repositories</span> <span class='op'>=</span> <span class='id identifier rubyid_repositories'>repositories</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>isDisabled</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
        <span class='id identifier rubyid_repositories'>repositories</span> <span class='op'>=</span> <span class='id identifier rubyid_repositories'>repositories</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>isLocked</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
        <span class='id identifier rubyid_repositories'>repositories</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_repo'>repo</span><span class='op'>|</span>
          <span class='id identifier rubyid_repository_name'>repository_name</span> <span class='op'>=</span> <span class='id identifier rubyid_repo'>repo</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_outside_collaborators_count'>outside_collaborators_count</span> <span class='op'>=</span> <span class='id identifier rubyid_repo'>repo</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>collaborators</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>totalCount</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_outside_collaborators_count'>outside_collaborators_count</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_outside_collaborators_count'>outside_collaborators_count</span> <span class='op'>=</span> <span class='int'>0</span>
          <span class='kw'>end</span>
          <span class='id identifier rubyid_active_repositories'>active_repositories</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/Repository.html" title="GithubCollaborators::Repository (class)">Repository</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/Repository.html#initialize-instance_method" title="GithubCollaborators::Repository#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='comma'>,</span> <span class='id identifier rubyid_outside_collaborators_count'>outside_collaborators_count</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_end_cursor'>end_cursor</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pageInfo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endCursor</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pageInfo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hasNextPage</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_active_repositories'>active_repositories</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_repo'>repo</span><span class='op'>|</span> <span class='id identifier rubyid_repo'>repo</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_all_org_members_team_repositories-instance_method">
  
    #<strong>get_all_org_members_team_repositories</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Query the all_org_members team and return its repositories</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 303</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_all_org_members_team_repositories'>get_all_org_members_team_repositories</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_all_org_members_team_repositories</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_team_repositories'>team_repositories</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='comment'>#  Grabs 100 repositories from the team, if team has more than 100 repositories
</span>  <span class='comment'># this will need to be changed to paginate through the results.
</span>  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://api.github.com/orgs/</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#ORG-constant" title="Constants::ORG (constant)">ORG</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/teams/all-org-members/repos?per_page=100</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#fetch_json-instance_method" title="GithubCollaborators::HttpClient#fetch_json (method)">fetch_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_json'>json</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_repository'>repository</span><span class='op'>|</span> <span class='id identifier rubyid_repository'>repository</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='rbrace'>}</span>
    <span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_repository'>repository</span><span class='op'>|</span> <span class='id identifier rubyid_team_repositories'>team_repositories</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_team_repositories'>team_repositories</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_all_organisation_members-instance_method">
  
    #<strong>get_all_organisation_members</strong>  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get full list of Organization user login names</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the user login names</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 256</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_all_organisation_members'>get_all_organisation_members</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_all_organisation_members</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_org_members'>org_members</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_end_cursor'>end_cursor</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_graphql'>graphql</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html" title="GithubCollaborators::GithubGraphQlClient (class)">GithubGraphQlClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html#initialize-instance_method" title="GithubCollaborators::GithubGraphQlClient#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_graphql'>graphql</span><span class='period'>.</span><span class='id identifier rubyid_run_query'>run_query</span><span class='lparen'>(</span><span class='id identifier rubyid_organisation_members_query'>organisation_members_query</span><span class='lparen'>(</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_json_data'>json_data</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>membersWithRole</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>edges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_members'>members</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>membersWithRole</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>edges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_members'>members</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_member'>member</span><span class='op'>|</span>
        <span class='id identifier rubyid_login'>login</span> <span class='op'>=</span> <span class='id identifier rubyid_member'>member</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>node</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>login</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_org_members'>org_members</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_end_cursor'>end_cursor</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>membersWithRole</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pageInfo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endCursor</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>membersWithRole</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pageInfo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hasNextPage</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_org_members'>org_members</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_archived_repositories-instance_method">
  
    #<strong>get_archived_repositories</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 643</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_archived_repositories'>get_archived_repositories</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_archived_repositories</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_graphql'>graphql</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html" title="GithubCollaborators::GithubGraphQlClient (class)">GithubGraphQlClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html#initialize-instance_method" title="GithubCollaborators::GithubGraphQlClient#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_archived_repositories'>archived_repositories</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>private</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>internal</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
    <span class='id identifier rubyid_end_cursor'>end_cursor</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_graphql'>graphql</span><span class='period'>.</span><span class='id identifier rubyid_run_query'>run_query</span><span class='lparen'>(</span><span class='id identifier rubyid_get_archived_repositories_query'>get_archived_repositories_query</span><span class='lparen'>(</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_json_data'>json_data</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repos</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_repositories'>repositories</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repos</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_repositories'>repositories</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_repo'>repo</span><span class='op'>|</span>
          <span class='comment'># Get the archived repository name
</span>          <span class='id identifier rubyid_archived_repositories'>archived_repositories</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_repo'>repo</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_end_cursor'>end_cursor</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pageInfo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>endCursor</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pageInfo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hasNextPage</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_archived_repositories'>archived_repositories</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_archived_repositories_query-instance_method">
  
    #<strong>get_archived_repositories_query</strong>(end_cursor, type)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 666</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_archived_repositories_query'>get_archived_repositories_query</span><span class='lparen'>(</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_archived_repositories_query</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_after'>after</span> <span class='op'>=</span> <span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>null</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='tstring'><span class='tstring_beg'>%[</span><span class='tstring_content'>
    {
      search(
        type: REPOSITORY
        query: &quot;org:</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#ORG-constant" title="Constants::ORG (constant)">ORG</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>, archived:true, is:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
        first: 100
        after: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_after'>after</span><span class='embexpr_end'>}</span><span class='tstring_content'>
      ) {
        repos: edges {
          repo: node {
            ... on Repository {
              name
            }
          }
        }
        pageInfo {
          hasNextPage
          endCursor
        }
      }
    }
  </span><span class='tstring_end'>]</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_email-instance_method">
  
    #<strong>get_email</strong>(login, collaborators)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


341
342
343
344
345
346
347
348
349</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 341</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_email'>get_email</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='comma'>,</span> <span class='id identifier rubyid_collaborators'>collaborators</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_email</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_collaborators'>collaborators</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_collaborator'>collaborator</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>==</span> <span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_email'>email</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>return</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_email'>email</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_issues_from_github-instance_method">
  
    #<strong>get_issues_from_github</strong>(repository)  &#x21d2; <tt>JSON</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Collect the issues from a repository on GitHub</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>repository</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of repository</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>JSON</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the issues in json format</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_issues_from_github'>get_issues_from_github</span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_issues_from_github</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">GH_API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository'>repository</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_content'>/issues</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#fetch_json-instance_method" title="GithubCollaborators::HttpClient#fetch_json (method)">fetch_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>symbolize_names:</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_name-instance_method">
  
    #<strong>get_name</strong>(login, collaborators)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


331
332
333
334
335
336
337
338
339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 331</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_name'>get_name</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='comma'>,</span> <span class='id identifier rubyid_collaborators'>collaborators</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_name</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_collaborators'>collaborators</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_collaborator'>collaborator</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>==</span> <span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>return</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_org-instance_method">
  
    #<strong>get_org</strong>(login, collaborators)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


351
352
353
354
355
356
357
358
359</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 351</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_org'>get_org</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='comma'>,</span> <span class='id identifier rubyid_collaborators'>collaborators</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_org</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_collaborators'>collaborators</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_collaborator'>collaborator</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>==</span> <span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_org'>org</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>return</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='period'>.</span><span class='id identifier rubyid_org'>org</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_org_outside_collaborators-instance_method">
  
    #<strong>get_org_outside_collaborators</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


361
362
363
364
365
366
367
368
369
370
371
372</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 361</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_org_outside_collaborators'>get_org_outside_collaborators</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_org_outside_collaborators</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># Grab the Org outside collaborators
</span>  <span class='comment'># This has a hard limit return of 100 collaborators
</span>  <span class='id identifier rubyid_outside_collaborators'>outside_collaborators</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://api.github.com/orgs/</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#ORG-constant" title="Constants::ORG (constant)">ORG</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/outside_collaborators?per_page=100</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#fetch_json-instance_method" title="GithubCollaborators::HttpClient#fetch_json (method)">fetch_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_json'>json</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_collaborator'>collaborator</span><span class='op'>|</span> <span class='id identifier rubyid_collaborator'>collaborator</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>login</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_collaborator'>collaborator</span><span class='op'>|</span> <span class='id identifier rubyid_outside_collaborators'>outside_collaborators</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_collaborator'>collaborator</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>login</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_outside_collaborators'>outside_collaborators</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_pull_requests-instance_method">
  
    #<strong>get_pull_requests</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_pull_requests'>get_pull_requests</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_pull_requests</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_pull_requests'>pull_requests</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_graphql'>graphql</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html" title="GithubCollaborators::GithubGraphQlClient (class)">GithubGraphQlClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/GithubGraphQlClient.html#initialize-instance_method" title="GithubCollaborators::GithubGraphQlClient#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_graphql'>graphql</span><span class='period'>.</span><span class='id identifier rubyid_run_query'>run_query</span><span class='lparen'>(</span><span class='id identifier rubyid_pull_request_query'>pull_request_query</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_json_data'>json_data</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repository</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pullRequests</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_json_data'>json_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organization</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repository</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pullRequests</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='comment'># Iterate over the pull requests
</span>    <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>nodes</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pull_request_data'>pull_request_data</span><span class='op'>|</span>
      <span class='id identifier rubyid_title'>title</span> <span class='op'>=</span> <span class='id identifier rubyid_pull_request_data'>pull_request_data</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_files'>files</span> <span class='op'>=</span> <span class='id identifier rubyid_pull_request_data'>pull_request_data</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>files</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>edges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>node</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='comment'># Use a hash value like { :title =&gt; &quot;&quot;, :files =&gt; list_of_file }
</span>      <span class='id identifier rubyid_pull_requests'>pull_requests</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>title:</span> <span class='id identifier rubyid_title'>title</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='label'>files:</span> <span class='id identifier rubyid_files'>files</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pull_requests'>pull_requests</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_repository_invites-instance_method">
  
    #<strong>get_repository_invites</strong>(repository_name)  &#x21d2; <tt>Hash{login =&gt; String, expired =&gt; Bool, invite_id =&gt; Numeric}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the collaborator invites from a repository on GitHub</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>repository_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of repository</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{login =&gt; String, expired =&gt; Bool, invite_id =&gt; Numeric}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the required fields from the issue</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66
67
68
69
70
71
72
73
74
75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_repository_invites'>get_repository_invites</span><span class='lparen'>(</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_repository_invites</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_repository_invites'>repository_invites</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">GH_API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_content'>/invitations</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_json'>json</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#fetch_json-instance_method" title="GithubCollaborators::HttpClient#fetch_json (method)">fetch_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>

  <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_json'>json</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_invite'>invite</span><span class='op'>|</span> <span class='id identifier rubyid_invite'>invite</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invitee</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>login</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='rbrace'>}</span>
    <span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_invite'>invite</span><span class='op'>|</span> <span class='id identifier rubyid_repository_invites'>repository_invites</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>login:</span> <span class='id identifier rubyid_invite'>invite</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>invitee</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>login</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span> <span class='label'>expired:</span> <span class='id identifier rubyid_invite'>invite</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expired</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>invite_id:</span> <span class='id identifier rubyid_invite'>invite</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_repository_invites'>repository_invites</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="modify_collaborator_permission_hash-instance_method">
  
    #<strong>modify_collaborator_permission_hash</strong>(login, branch_name)  &#x21d2; <tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Composes a GitHub branch structured message</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>login</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>branch_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of new branch</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the message to send to GitHub</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 589</span>

<span class='kw'>def</span> <span class='id identifier rubyid_modify_collaborator_permission_hash'>modify_collaborator_permission_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='comma'>,</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>modify_collaborator_permission_hash</span><span class='tstring_end'>&quot;</span></span>
  <span class='lbrace'>{</span>
    <span class='label'>title:</span> <span class='const'><span class='object_link'><a href="Constants.html#CHANGE_PERMISSION_PR_TITLE-constant" title="Constants::CHANGE_PERMISSION_PR_TITLE (constant)">CHANGE_PERMISSION_PR_TITLE</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>head:</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>base:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>main</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>body:</span> <span class='heredoc_beg'>&lt;&lt;~EOF</span>
<span class='tstring_content'>      Hi there
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This is the GitHub-Collaborator repository bot.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The collaborator </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_content'> permission on Github is different to the permission in the Terraform file for the repository.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This is because the collaborator is a full organization member, is able to join repositories outside of Terraform and may have different access to the repository now they are in a Team.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The permission on Github is given the priority.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This pull request ensures we keep track of those collaborators, which repositories they are accessing and their permission.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      Permission can either be admin, push, maintain, pull or triage.
</span><span class='tstring_content'>      
</span><span class='heredoc_end'>    EOF
</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="organisation_members_query-instance_method">
  
    #<strong>organisation_members_query</strong>(end_cursor)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 277</span>

<span class='kw'>def</span> <span class='id identifier rubyid_organisation_members_query'>organisation_members_query</span><span class='lparen'>(</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>organisation_members_query</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_after'>after</span> <span class='op'>=</span> <span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>null</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='tstring'><span class='tstring_beg'>%[</span><span class='tstring_content'>
    {
      organization(login: &quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#ORG-constant" title="Constants::ORG (constant)">ORG</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;) {
        membersWithRole(
          first: 100
          after: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_after'>after</span><span class='embexpr_end'>}</span><span class='tstring_content'>
        ) {
          edges {
            node {
              login
            }
          }
          pageInfo {
            hasNextPage
            endCursor
          }
        }
      }
    }
  </span><span class='tstring_end'>]</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="outside_collaborators_query-instance_method">
  
    #<strong>outside_collaborators_query</strong>(end_cursor, repository)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 747</span>

<span class='kw'>def</span> <span class='id identifier rubyid_outside_collaborators_query'>outside_collaborators_query</span><span class='lparen'>(</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='comma'>,</span> <span class='id identifier rubyid_repository'>repository</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>outside_collaborators_query</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_after'>after</span> <span class='op'>=</span> <span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>null</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='tstring'><span class='tstring_beg'>%[</span><span class='tstring_content'>
    {
      organization(login: &quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#ORG-constant" title="Constants::ORG (constant)">ORG</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;) {
        repository(name: &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository'>repository</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;) {
          collaborators(
            affiliation: OUTSIDE
            first: 100
            after: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_after'>after</span><span class='embexpr_end'>}</span><span class='tstring_content'>
          ) {
            pageInfo {
              hasNextPage
              endCursor
            }
            edges {
              node {
                login
              }
            }
          }
        }
      }
    }
  </span><span class='tstring_end'>]</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print_comparison-instance_method">
  
    #<strong>print_comparison</strong>(collaborators_in_file, collaborators_on_github, repository_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prints out the comparison of GitHub and Terraform collaborators when there is a mismatch</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


776
777
778
779
780
781
782
783
784
785
786
787</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 776</span>

<span class='kw'>def</span> <span class='id identifier rubyid_print_comparison'>print_comparison</span><span class='lparen'>(</span><span class='id identifier rubyid_collaborators_in_file'>collaborators_in_file</span><span class='comma'>,</span> <span class='id identifier rubyid_collaborators_on_github'>collaborators_on_github</span><span class='comma'>,</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>print_comparison</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>37</span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>There is a difference in Outside Collaborators for the </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> repository</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GitHub Outside Collaborators: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_collaborators_on_github'>collaborators_on_github</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Terraform Outside Collaborators: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_collaborators_in_file'>collaborators_in_file</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Collaborators on GitHub:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_collaborators_on_github'>collaborators_on_github</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_gc_name'>gc_name</span><span class='op'>|</span> <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gc_name'>gc_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Collaborators in Terraform:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_collaborators_in_file'>collaborators_in_file</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tc_name'>tc_name</span><span class='op'>|</span> <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tc_name'>tc_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='int'>37</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pull_request_query-instance_method">
  
    #<strong>pull_request_query</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 441</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pull_request_query'>pull_request_query</span>
  <span class='tstring'><span class='tstring_beg'>%[</span><span class='tstring_content'>
    {
      organization(login: &quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#ORG-constant" title="Constants::ORG (constant)">ORG</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;) {
        repository(name: &quot;github-collaborators&quot;) {
          pullRequests(states: OPEN, last: 100) {
            nodes {
              title
              files(first: 100) {
                edges {
                  node {
                    path
                  }
                }
              }
            }
          }
        }
      }
    }
    </span><span class='tstring_end'>]</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_access-instance_method">
  
    #<strong>remove_access</strong>(repository, github_user)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Remove a collaborator from a repository on GitHub</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>repository</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of repository</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>github_user</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_access'>remove_access</span><span class='lparen'>(</span><span class='id identifier rubyid_repository'>repository</span><span class='comma'>,</span> <span class='id identifier rubyid_github_user'>github_user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remove_access</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_repository'>repository</span> <span class='op'>=</span> <span class='id identifier rubyid_repository'>repository</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_username'>username</span> <span class='op'>=</span> <span class='id identifier rubyid_github_user'>github_user</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='kw'>if</span> <span class='const'>ENV</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>REALLY_POST_TO_GH</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">GH_API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository'>repository</span><span class='embexpr_end'>}</span><span class='tstring_content'>/collaborators/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_username'>username</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_delete'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#delete-instance_method" title="GithubCollaborators::HttpClient#delete (method)">delete</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>2</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Didn&#39;t remove </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_username'>username</span><span class='embexpr_end'>}</span><span class='tstring_content'> from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository'>repository</span><span class='embexpr_end'>}</span><span class='tstring_content'>, this is a dry run</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_collaborator_hash-instance_method">
  
    #<strong>remove_collaborator_hash</strong>(login, branch_name)  &#x21d2; <tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Composes a GitHub branch structured message</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>login</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>branch_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of new branch</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{title =&gt; String, head =&gt; String, base =&gt; String, body =&gt; String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the message to send to GitHub</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 566</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_collaborator_hash'>remove_collaborator_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_login'>login</span><span class='comma'>,</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remove_collaborator_hash</span><span class='tstring_end'>&quot;</span></span>
  <span class='lbrace'>{</span>
    <span class='label'>title:</span> <span class='const'><span class='object_link'><a href="Constants.html#REMOVE_EXPIRED_COLLABORATOR_PR_TITLE-constant" title="Constants::REMOVE_EXPIRED_COLLABORATOR_PR_TITLE (constant)">REMOVE_EXPIRED_COLLABORATOR_PR_TITLE</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>head:</span> <span class='id identifier rubyid_branch_name'>branch_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='label'>base:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>main</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>body:</span> <span class='heredoc_beg'>&lt;&lt;~EOF</span>
<span class='tstring_content'>      Hi there
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      This is the GitHub-Collaborator repository bot.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The collaborator </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_login'>login</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='embexpr_end'>}</span><span class='tstring_content'> review date has expired for the file/s contained in this pull request.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      Either approve this pull request, modify it or delete it if it is no longer necessary.
</span><span class='heredoc_end'>    EOF
</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_issue-instance_method">
  
    #<strong>remove_issue</strong>(repository_name, issue_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Remove issue from a repository on GitHub</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>repository_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of repository</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>repository_name</span>
      
      
        <span class='type'>(<tt>Numeric</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>issue id number</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_issue'>remove_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='comma'>,</span> <span class='id identifier rubyid_issue_id'>issue_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remove_issue</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_repository_name'>repository_name</span> <span class='op'>=</span> <span class='id identifier rubyid_repository_name'>repository_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_API_URL-constant" title="Constants::GH_API_URL (constant)">GH_API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/issues/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue_id'>issue_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>state:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>closed</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span>

  <span class='const'><span class='object_link'><a href="GithubCollaborators.html" title="GithubCollaborators (class)">GithubCollaborators</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GithubCollaborators/HttpClient.html" title="GithubCollaborators::HttpClient (class)">HttpClient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#initialize-instance_method" title="GithubCollaborators::HttpClient#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_patch_json'><span class='object_link'><a href="GithubCollaborators/HttpClient.html#patch_json-instance_method" title="GithubCollaborators::HttpClient#patch_json (method)">patch_json</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Closed issue </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue_id'>issue_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> on repository </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repository_name'>repository_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>2</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="repositories_query-instance_method">
  
    #<strong>repositories_query</strong>(end_cursor, type)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 693</span>

<span class='kw'>def</span> <span class='id identifier rubyid_repositories_query'>repositories_query</span><span class='lparen'>(</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>repositories_query</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_after'>after</span> <span class='op'>=</span> <span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>null</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_cursor'>end_cursor</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='tstring'><span class='tstring_beg'>%[</span><span class='tstring_content'>
    {
      search(
        type: REPOSITORY
        query: &quot;org:</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#ORG-constant" title="Constants::ORG (constant)">ORG</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>, archived:false, is:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
        first: 100
        after: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_after'>after</span><span class='embexpr_end'>}</span><span class='tstring_content'>
      ) {
        repos: edges {
          repo: node {
            ... on Repository {
              name
              isDisabled
              isLocked
              collaborators(affiliation: OUTSIDE) {
                totalCount
              }
            }
          }
        }
        pageInfo {
          hasNextPage
          endCursor
        }
      }
    }
  </span><span class='tstring_end'>]</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="review_date_expires_soon_hash-instance_method">
  
    #<strong>review_date_expires_soon_hash</strong>(user_name)  &#x21d2; <tt>Hash{title =&gt; String, assignees =&gt; [Array&lt;String&gt;], body =&gt; String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Composes a GitHub issue structured message</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>user_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{title =&gt; String, assignees =&gt; [Array&lt;String&gt;], body =&gt; String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the message to send to GitHub</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_review_date_expires_soon_hash'>review_date_expires_soon_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_user_name'>user_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>review_date_expires_soon_hash</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_user_name'>user_name</span> <span class='op'>=</span> <span class='id identifier rubyid_user_name'>user_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='lbrace'>{</span>
    <span class='label'>title:</span> <span class='const'><span class='object_link'><a href="Constants.html#COLLABORATOR_EXPIRES_SOON-constant" title="Constants::COLLABORATOR_EXPIRES_SOON (constant)">COLLABORATOR_EXPIRES_SOON</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_user_name'>user_name</span><span class='comma'>,</span>
    <span class='label'>assignees:</span> <span class='lbracket'>[</span><span class='id identifier rubyid_user_name'>user_name</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>body:</span> <span class='heredoc_beg'>&lt;&lt;~EOF</span>
<span class='tstring_content'>      Hi there
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      The user @</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user_name'>user_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> has its access for this repository maintained in code here: </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_ORG_URL-constant" title="Constants::GH_ORG_URL (constant)">GH_ORG_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/github-collaborators
</span><span class='tstring_content'>
</span><span class='tstring_content'>      The review_after date is due to expire within one month, please update this via a PR if they still require access.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      If you have any questions, please post in #ask-operations-engineering on Slack.
</span><span class='tstring_content'>
</span><span class='tstring_content'>      Failure to update the review_date will result in the collaborator being removed from the repository via our automation.
</span><span class='heredoc_end'>    EOF
</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tf_safe-instance_method">
  
    #<strong>tf_safe</strong>(string)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Changes a . to a - within the string</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a string object</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the object converted into the expected format</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tf_safe'>tf_safe</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unknown_collaborator_hash-instance_method">
  
    #<strong>unknown_collaborator_hash</strong>(user_name)  &#x21d2; <tt>Hash{title =&gt; String, assignees =&gt; [Array&lt;String&gt;], body =&gt; String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Composes a GitHub issue structured message</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>user_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of collaborator</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{title =&gt; String, assignees =&gt; [Array&lt;String&gt;], body =&gt; String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the message to send to GitHub</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/helper_module.rb', line 151</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unknown_collaborator_hash'>unknown_collaborator_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_user_name'>user_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_module_logger'>module_logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown_collaborator_hash</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_user_name'>user_name</span> <span class='op'>=</span> <span class='id identifier rubyid_user_name'>user_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>

  <span class='lbrace'>{</span>
    <span class='label'>title:</span> <span class='const'><span class='object_link'><a href="Constants.html#DEFINE_COLLABORATOR_IN_CODE-constant" title="Constants::DEFINE_COLLABORATOR_IN_CODE (constant)">DEFINE_COLLABORATOR_IN_CODE</a></span></span><span class='comma'>,</span>
    <span class='label'>assignees:</span> <span class='lbracket'>[</span><span class='id identifier rubyid_user_name'>user_name</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>body:</span> <span class='heredoc_beg'>&lt;&lt;~EOF</span>
<span class='tstring_content'>      Hi there
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      We have a process to manage github collaborators in code: </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="Constants.html#GH_ORG_URL-constant" title="Constants::GH_ORG_URL (constant)">GH_ORG_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/github-collaborators
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      Please follow the procedure described there to grant @</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_user_name'>user_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> access to this repository.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      If you have any questions, please post in #ask-operations-engineering on Slack.
</span><span class='tstring_content'>      
</span><span class='tstring_content'>      If the outside collaborator is not needed, close this issue, they have already been removed from this repository.
</span><span class='heredoc_end'>    EOF
</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Dec 20 16:45:58 2022 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.0).
</div>

    </div>
  </body>
</html>